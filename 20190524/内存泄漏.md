### 1. 内存泄漏是什么？

------
不用的内存，没有来得及释放，就叫做内存泄漏
对于持续运行的服务进程（daemon），必须及时释放不再用到的内存。否则，内存占用越来越高，轻则影响系统性能，重则导致进程崩溃。

-----

既然内存会不断的被占用，然后又去释放，那么肯定会有一种回收机制


### 2. 垃圾回收机制

1. 引用计数
  语言引擎有一张"引用表"，保存了内存里面所有的资源（通常是各种值）的引用次数。如果一个值的引用次数是0，就表示这个值不再用到了，因此可以将这块内存释放(这里IE才会使用，因为这种方法会有循环引用的问题，容易导致内存泄漏)

也就是说，只要一个值引用数为0，就可以被JS引擎自己回收掉；

```javascript
let foo = {
    key: 'value'
}
```

诸君，你们想想，这代码里面，foo 会被 JS GC 掉吗？
然而并不会，因为后面的对象，是一个值，会占用内存，变量`foo`是仅对这个值的引用，因此引用数为`1`，尽管后面这个变量`foo`，并没有被引用到，但是还是会持续占用内存;

如果你一定要解除foo对后面这个对象的引用，直接加一行

```javascript
let foo = {
    key: 'value'
}

foo = null
```

2.标记清除
  最常用的垃圾收集方式。
  当变量进入环境时，这个变量标记为“进入环境”；而当变量离开环境时，则将其标记为“离开环境”。可以使用一个“进入环境”的变量列表及一个“离开环境”的变量列表来跟踪变量的变化，也可以翻转某个特殊的位来记录一个变量何时进入环境及离开环境。